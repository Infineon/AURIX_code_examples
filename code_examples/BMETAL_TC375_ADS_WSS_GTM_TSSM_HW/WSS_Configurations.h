/**********************************************************************************************************************
 * \file WSS_Configurations.h
 * \copyright Copyright (C) Infineon Technologies AG 2019
 *
 * Use of this file is subject to the terms of use agreed between (i) you or the company in which ordinary course of
 * business you are acting and (ii) Infineon Technologies AG or its licensees. If and as long as no such terms of use
 * are agreed, use of this file is subject to following:
 *
 * Boost Software License - Version 1.0 - August 17th, 2003
 *
 * Permission is hereby granted, free of charge, to any person or organization obtaining a copy of the software and
 * accompanying documentation covered by this license (the "Software") to use, reproduce, display, distribute, execute,
 * and transmit the Software, and to prepare derivative works of the Software, and to permit third-parties to whom the
 * Software is furnished to do so, all subject to the following:
 *
 * The copyright notices in the Software and this entire statement, including the above license grant, this restriction
 * and the following disclaimer, must be included in all copies of the Software, in whole or in part, and all
 * derivative works of the Software, unless such copies or derivative works are solely in the form of
 * machine-executable object code generated by a source language processor.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
 * COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN
 * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *********************************************************************************************************************/

#ifndef WSS_CONFIGURATIONS_H_
#define WSS_CONFIGURATIONS_H_

#include "Ifx_Types.h"

/* There are three modes of operation controlled by the macros WSS_EMULATION and USE_FCADC
* With Real WSS and internal FCADC :  when WSS_EMULATION is FALSE and USE_FCADC is TRUE
* With Real WSS and external comparators:  when WSS_EMULATION is FALSE and USE_FCADC is FALSE
* WSS Emulation : when WSS_EMULATION is TRUE and USE_FCADC is FALSE,
 * */
#define WSS_EMULATION   FALSE
#define USE_FCADC       TRUE


/* Macros for time period generating AK data BIT_1_T = tp/2 */
#define BIT_1_T         5000
#define BIT_2_T         2*BIT_1_T
#define BIT_3_T         3*BIT_1_T
#define BIT_4_T         4*BIT_1_T

/* Choose EMULATION_DATA1/EMULATION_DATA2/EMULATION_DATA3 */
#define EMULATION_DATA   EMULATION_DATA3

/* Period of the speed pulse for emulation */
#define SPEED_PERIOD    80*BIT_2_T

/* Pulse width of enable signal for LUT */
#define ENABLE_PULSE    7*BIT_2_T

/* TDU counter value for periodic TDU_WORD_EVT  = (0.75*tP)/fTDU*/
#define TDU_COUNTER     0x92   

/* Macros for the FCADC reference values assuming 50 ohm is attached to sensor current pulse output
 * Imin = 7mA, Imid = 14mA and Imax = 28mA
 * The TC375 litekit operates at 3.3V, VAREF = 3.3V
 */
#define SPEED_PULSE_THRESHOLD   0x136   /* corresponding to 1.0V */
#define DATA_THRESHOLD          0x9B    /* corresponding to 0.5V */

/* Macros for the speed calculation */
#define NUM_OF_POLES        96          /* Number of magnetic poles in the ring sensor */
#define TIM_RESOLUTION      5e-9        /* resolution in seconds based on the TIM clock - 200 MHz */
#define SECONDS_PER_MINUTE  60

#endif /* WSS_CONFIGURATIONS_H_ */
