/**
 * \file  board.c
 * \brief BSP for SecureGateway_V10
 *
 * \version ASDK_0_6_0
 * \copyright Copyright (c) 2019-2020 Infineon Technologies AG. All rights reserved.
 *
 *
 *                                 IMPORTANT NOTICE
 *
 *
 * Use of this file is subject to the terms of use agreed between (i) you or 
 * the company in which ordinary course of business you are acting and (ii) 
 * Infineon Technologies AG or its licensees. If and as long as no such 
 * terms of use are agreed, use of this file is subject to following:


 * Boost Software License - Version 1.0 - August 17th, 2003

 * Permission is hereby granted, free of charge, to any person or 
 * organization obtaining a copy of the software and accompanying 
 * documentation covered by this license (the "Software") to use, reproduce,
 * display, distribute, execute, and transmit the Software, and to prepare
 * derivative works of the Software, and to permit third-parties to whom the 
 * Software is furnished to do so, all subject to the following:

 * The copyright notices in the Software and this entire statement, including
 * the above license grant, this restriction and the following disclaimer, must
 * be included in all copies of the Software, in whole or in part, and all
 * derivative works of the Software, unless such copies or derivative works are
 * solely in the form of machine-executable object code generated by a source
 * language processor.

 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR 
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
 * SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE 
 * FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
 * ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.

 */

#include "board.h"

#if defined(CONFIG_BOARD_LED_ENABLE)
#include "IfxPort_PinMap.h"

const LED_t LED_0 =
{
  .pin = &IfxPort_P33_14,
  .type = LED_TYPE_ACTIVE_LOW
};

const LED_t LED_1 =
{
  .pin = &IfxPort_P34_4,
  .type = LED_TYPE_ACTIVE_LOW
};

const LED_t LED_RGB_R =
{
  .pin = &IfxPort_P34_5,
  .type = LED_TYPE_ACTIVE_LOW
};

const LED_t LED_RGB_G =
{
  .pin = &IfxPort_P33_15,
  .type = LED_TYPE_ACTIVE_LOW
};

const LED_t LED_RGB_B =
{
  .pin = &IfxPort_P34_3,
  .type = LED_TYPE_ACTIVE_LOW
};
#endif

#if defined(CONFIG_BOARD_MMC_ENABLE)
#include "IfxSdmmc_PinMap.h"

#define SDMMC_CLK_PIN  IfxSdmmc0_CLK_P15_1_OUT
#define SDMMC_CMD_PIN  IfxSdmmc0_CMD_P15_3_INOUT
#define SDMMC_DAT0_PIN IfxSdmmc0_DAT0_P20_7_INOUT
#define SDMMC_DAT1_PIN IfxSdmmc0_DAT1_P20_8_INOUT
#define SDMMC_DAT2_PIN IfxSdmmc0_DAT2_P20_10_INOUT
#define SDMMC_DAT3_PIN IfxSdmmc0_DAT3_P20_11_INOUT
#define SDMMC_DAT4_PIN IfxSdmmc0_DAT4_P20_12_INOUT
#define SDMMC_DAT5_PIN IfxSdmmc0_DAT5_P20_13_INOUT
#define SDMMC_DAT6_PIN IfxSdmmc0_DAT6_P20_14_INOUT
#define SDMMC_DAT7_PIN IfxSdmmc0_DAT7_P15_0_INOUT
#define SDMMC_RST_PIN  IfxPort_P15_2

void BOARD_MMC_InitPins(void)
{
  IfxPort_setPinPadDriver(SDMMC_CLK_PIN.pin.port,  SDMMC_CLK_PIN.pin.pinIndex,  IfxPort_PadDriver_cmosAutomotiveSpeed1);
  IfxPort_setPinModeOutput(SDMMC_CLK_PIN.pin.port, SDMMC_CLK_PIN.pin.pinIndex,  IfxPort_OutputMode_pushPull, SDMMC_CLK_PIN.outSelect); 
  IfxPort_setPinPadDriver(SDMMC_CMD_PIN.pin.port,  SDMMC_CMD_PIN.pin.pinIndex,  IfxPort_PadDriver_cmosAutomotiveSpeed1);
  IfxPort_setPinModeInput(SDMMC_CMD_PIN.pin.port,  SDMMC_CMD_PIN.pin.pinIndex,  IfxPort_InputMode_pullUp);
  IfxPort_setPinPadDriver(SDMMC_DAT0_PIN.pin.port, SDMMC_DAT0_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed1);
  IfxPort_setPinModeInput(SDMMC_DAT0_PIN.pin.port, SDMMC_DAT0_PIN.pin.pinIndex, IfxPort_InputMode_pullUp);
  IfxPort_setPinPadDriver(SDMMC_DAT1_PIN.pin.port, SDMMC_DAT1_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed1);
  IfxPort_setPinModeInput(SDMMC_DAT1_PIN.pin.port, SDMMC_DAT1_PIN.pin.pinIndex, IfxPort_InputMode_pullUp);
  IfxPort_setPinPadDriver(SDMMC_DAT2_PIN.pin.port, SDMMC_DAT2_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed1);
  IfxPort_setPinModeInput(SDMMC_DAT2_PIN.pin.port, SDMMC_DAT2_PIN.pin.pinIndex, IfxPort_InputMode_pullUp);
  IfxPort_setPinPadDriver(SDMMC_DAT3_PIN.pin.port, SDMMC_DAT3_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed1);
  IfxPort_setPinModeInput(SDMMC_DAT3_PIN.pin.port, SDMMC_DAT3_PIN.pin.pinIndex, IfxPort_InputMode_pullUp);
  IfxPort_setPinPadDriver(SDMMC_DAT4_PIN.pin.port, SDMMC_DAT4_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed1);
  IfxPort_setPinModeInput(SDMMC_DAT4_PIN.pin.port, SDMMC_DAT4_PIN.pin.pinIndex, IfxPort_InputMode_pullUp);
  IfxPort_setPinPadDriver(SDMMC_DAT5_PIN.pin.port, SDMMC_DAT5_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed1);
  IfxPort_setPinModeInput(SDMMC_DAT5_PIN.pin.port, SDMMC_DAT5_PIN.pin.pinIndex, IfxPort_InputMode_pullUp);
  IfxPort_setPinPadDriver(SDMMC_DAT6_PIN.pin.port, SDMMC_DAT6_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed1);
  IfxPort_setPinModeInput(SDMMC_DAT6_PIN.pin.port, SDMMC_DAT6_PIN.pin.pinIndex, IfxPort_InputMode_pullUp);
  IfxPort_setPinPadDriver(SDMMC_DAT7_PIN.pin.port, SDMMC_DAT7_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed1);
  IfxPort_setPinModeInput(SDMMC_DAT7_PIN.pin.port, SDMMC_DAT7_PIN.pin.pinIndex, IfxPort_InputMode_pullUp);
}
#endif

#if defined(CONFIG_BOARD_ETH_ENABLE)

#include "eth/phy/88EA1517.h"

#define ETH_AUTONEG_MAX_CYCLES (0xffffffffUL)
#define ETH_REMRX_MAX_CYCLES   (0xffffffffUL)

#define ETH0_PHYADDR 4
#define ETH1_PHYADDR 1

#include "IfxGeth_PinMap.h"

#define ETH0_MDC_PIN     IfxGeth_MDC_P12_0_OUT
#define ETH0_MDIO_PIN    IfxGeth_MDIO_P12_1_INOUT
#define ETH0_RXC_PIN     IfxGeth_RXCLKA_P11_12_IN
#define ETH0_RXD0_PIN    IfxGeth_RXD0A_P11_10_IN
#define ETH0_RXD1_PIN    IfxGeth_RXD1A_P11_9_IN
#define ETH0_RXD2_PIN    IfxGeth_RXD2A_P11_8_IN
#define ETH0_RXD3_PIN    IfxGeth_RXD3A_P11_7_IN
#define ETH0_RXCTL_PIN   IfxGeth_RXCTLA_P11_11_IN
#define ETH0_TXC_PIN     IfxGeth_TXCLK_P11_4_OUT
#define ETH0_TXD0_PIN    IfxGeth_TXD0_P11_3_OUT
#define ETH0_TXD1_PIN    IfxGeth_TXD1_P11_2_OUT
#define ETH0_TXD2_PIN    IfxGeth_TXD2_P11_1_OUT
#define ETH0_TXD3_PIN    IfxGeth_TXD3_P11_0_OUT
#define ETH0_TXCTL_PIN   IfxGeth_TXCTL_P11_6_OUT
#define ETH0_GREFCLK_PIN IfxPort_P11_5
#define ETH0_PPS_PIN     IfxGeth_PPS_P14_4_OUT

#define ETH1_MDC_PIN     IfxGeth1_MDC_P22_8_OUT
#define ETH1_MDIO_PIN    IfxGeth1_MDIO_P22_9_INOUT
#define ETH1_RXC_PIN     IfxGeth1_RXCLKA_P22_5_IN
#define ETH1_RXD0_PIN    IfxGeth1_RXD0A_P22_4_IN
#define ETH1_RXD1_PIN    IfxGeth1_RXD1A_P23_7_IN
#define ETH1_RXD2_PIN    IfxGeth1_RXD2A_P23_6_IN
#define ETH1_RXD3_PIN    IfxGeth1_RXD3A_P23_5_IN
#define ETH1_RXCTL_PIN   IfxGeth1_RXCTLA_P22_6_IN
#define ETH1_TXC_PIN     IfxGeth1_TXCLK_P22_12_OUT
#define ETH1_TXD0_PIN    IfxGeth1_TXD0_P22_10_OUT
#define ETH1_TXD1_PIN    IfxGeth1_TXD1_P23_4_OUT
#define ETH1_TXD2_PIN    IfxGeth1_TXD2_P23_3_OUT
#define ETH1_TXD3_PIN    IfxGeth1_TXD3_P23_2_OUT
#define ETH1_TXCTL_PIN   IfxGeth1_TXCTL_P22_11_OUT
#define ETH1_GREFCLK_PIN IfxPort_P22_7
#define ETH1_PPS_PIN     IfxGeth1_PPS_P21_0_OUT

ETH_MAC_t ETH_0 =
{
  .regs = &MODULE_GETH,
};

sint32 eth0_mdio_write(uint8 phy_addr, uint32 reg_addr, uint16 reg_val)
{
  return ETH_MDIO_Write(&ETH_0, phy_addr, reg_addr, reg_val, 0xffffffff);
}

sint32 eth0_mdio_read(uint8 phy_addr, uint32 reg_addr, uint16 *const reg_val)
{
  return ETH_MDIO_Read(&ETH_0, phy_addr, reg_addr, reg_val, 0xffffffff);
}

MARVELL_88EA1517_t MARVELL_88EA1517_0 =
{
  .phy_addr = ETH0_PHYADDR,
  .mdio_write = eth0_mdio_write,
  .mdio_read = eth0_mdio_read
};

void BOARD_ETH0_InitMdioPins(void)
{
  ETH_MAC_PORT_CTRL_t port_control;

  IfxPort_setPinModeInput(ETH0_MDIO_PIN.pin.port, ETH0_MDIO_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);

  port_control.raw = 0;
  port_control.mdio = ETH0_MDIO_PIN.inSelect;
  ETH_MAC_SetPortControl(&ETH_0, port_control);

  IfxPort_setPinModeOutput(ETH0_MDC_PIN.pin.port, ETH0_MDC_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_MDC_PIN.select);
}

void BOARD_ETH0_InitInputPins(void)
{
  ETH_MAC_PORT_CTRL_t port_control;

  /* MAC Input pins (PHY to MAC)
     Pad Level Selection for Input Function, when PDx.1=1 and PDx.0=1 the input level RGMII is selected */
  IfxPort_setPinPadDriver(ETH0_RXC_PIN.pin.port, ETH0_RXC_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH0_RXC_PIN.pin.port, ETH0_RXC_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH0_RXD0_PIN.pin.port, ETH0_RXD0_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH0_RXD0_PIN.pin.port, ETH0_RXD0_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH0_RXD1_PIN.pin.port, ETH0_RXD1_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH0_RXD1_PIN.pin.port, ETH0_RXD1_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH0_RXD2_PIN.pin.port, ETH0_RXD2_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH0_RXD2_PIN.pin.port, ETH0_RXD2_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH0_RXD3_PIN.pin.port, ETH0_RXD3_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH0_RXD3_PIN.pin.port, ETH0_RXD3_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH0_RXCTL_PIN.pin.port, ETH0_RXCTL_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH0_RXCTL_PIN.pin.port, ETH0_RXCTL_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH0_GREFCLK_PIN.port, ETH0_GREFCLK_PIN.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH0_GREFCLK_PIN.port, ETH0_GREFCLK_PIN.pinIndex, IfxPort_InputMode_noPullDevice);

  port_control.raw = 0;
  port_control.clk_rx = ETH0_RXC_PIN.select;
  port_control.crsdv = ETH0_RXCTL_PIN.select;
  port_control.rxd0 = ETH0_RXD0_PIN.select;
  port_control.rxd1 = ETH0_RXD1_PIN.select;
  port_control.rxd2 = ETH0_RXD2_PIN.select;
  port_control.rxd3 = ETH0_RXD3_PIN.select;
  port_control.mdio = ETH0_MDIO_PIN.inSelect;
  port_control.mode = ETH_MAC_PORT_CTRL_MODE_RGMII;

  ETH_MAC_SetPortControl(&ETH_0, port_control);
}

void BOARD_ETH0_DeInitInputPins(void)
{
  ETH_MAC_PORT_CTRL_t port_control;

  port_control.raw = 0;
  port_control.mdio = ETH0_MDIO_PIN.inSelect;
  ETH_MAC_SetPortControl(&ETH_0, port_control);
}

void BOARD_ETH0_InitOutputPins(void)
{
  /* Switch ethernet output pins from alternate output to fast RGMII/RMII/MII mode. */
  IfxPort_setPinControllerSelection(ETH0_TXC_PIN.pin.port, ETH0_TXC_PIN.pin.pinIndex);
  IfxPort_setPinControllerSelection(ETH0_TXD0_PIN.pin.port, ETH0_TXD0_PIN.pin.pinIndex);
  IfxPort_setPinControllerSelection(ETH0_TXD1_PIN.pin.port, ETH0_TXD1_PIN.pin.pinIndex);
  IfxPort_setPinControllerSelection(ETH0_TXD2_PIN.pin.port, ETH0_TXD2_PIN.pin.pinIndex);
  IfxPort_setPinControllerSelection(ETH0_TXD3_PIN.pin.port, ETH0_TXD3_PIN.pin.pinIndex);
  IfxPort_setPinControllerSelection(ETH0_TXCTL_PIN.pin.port, ETH0_TXCTL_PIN.pin.pinIndex);

  /* MAC Output pins (MAC to PHY)
     Speed grade 4 selects RGMII driver */
  IfxPort_setPinPadDriver(ETH0_TXC_PIN.pin.port, ETH0_TXC_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH0_TXC_PIN.pin.port, ETH0_TXC_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXC_PIN.select);
  IfxPort_setPinPadDriver(ETH0_TXD0_PIN.pin.port, ETH0_TXD0_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH0_TXD0_PIN.pin.port, ETH0_TXD0_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXD0_PIN.select);
  IfxPort_setPinPadDriver(ETH0_TXD1_PIN.pin.port, ETH0_TXD1_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH0_TXD1_PIN.pin.port, ETH0_TXD1_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXD1_PIN.select);
  IfxPort_setPinPadDriver(ETH0_TXD2_PIN.pin.port, ETH0_TXD2_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH0_TXD2_PIN.pin.port, ETH0_TXD2_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXD2_PIN.select);
  IfxPort_setPinPadDriver(ETH0_TXD3_PIN.pin.port, ETH0_TXD3_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH0_TXD3_PIN.pin.port, ETH0_TXD3_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXD3_PIN.select);
  IfxPort_setPinPadDriver(ETH0_TXCTL_PIN.pin.port, ETH0_TXCTL_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH0_TXCTL_PIN.pin.port, ETH0_TXCTL_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXCTL_PIN.select);
}

void BOARD_ETH0_DeInitOutputPins(void)
{
  IfxPort_setPinModeInput(ETH0_TXC_PIN.pin.port, ETH0_TXC_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinModeInput(ETH0_TXD0_PIN.pin.port, ETH0_TXD0_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinModeInput(ETH0_TXD1_PIN.pin.port, ETH0_TXD1_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinModeInput(ETH0_TXD2_PIN.pin.port, ETH0_TXD2_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinModeInput(ETH0_TXD3_PIN.pin.port, ETH0_TXD3_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinModeInput(ETH0_TXCTL_PIN.pin.port, ETH0_TXCTL_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);

}

ETH_MAC_t ETH_1 =
{
  .regs = &MODULE_GETH1,
};

static sint32 eth1_mdio_write(uint8 phy_addr, uint32 reg_addr, uint16 reg_val)
{
  return ETH_MDIO_Write(&ETH_1, phy_addr, reg_addr, reg_val, 0xffffffff);
}

static sint32 eth1_mdio_read(uint8 phy_addr, uint32 reg_addr, uint16 *const reg_val)
{
  return ETH_MDIO_Read(&ETH_1, phy_addr, reg_addr, reg_val, 0xffffffff);
}


MARVELL_88EA1517_t MARVELL_88EA1517_1 =
{
  .phy_addr = ETH1_PHYADDR,
  .mdio_write = eth1_mdio_write,
  .mdio_read = eth1_mdio_read
};

void BOARD_ETH1_InitMdioPins(void)
{
  ETH_MAC_PORT_CTRL_t port_control;

  IfxPort_setPinModeInput(ETH1_MDIO_PIN.pin.port, ETH1_MDIO_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);

  port_control.raw = 0;
  port_control.mdio = ETH1_MDIO_PIN.inSelect;
  ETH_MAC_SetPortControl(&ETH_1, port_control);

  IfxPort_setPinModeOutput(ETH1_MDC_PIN.pin.port, ETH1_MDC_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH1_MDC_PIN.select);
}

void BOARD_ETH1_InitInputPins(void)
{
  ETH_MAC_PORT_CTRL_t port_control;

  /* MAC Input pins (PHY to MAC)
     Pad Level Selection for Input Function, when PDx.1=1 and PDx.0=1 the input level RGMII is selected */
  IfxPort_setPinPadDriver(ETH1_RXC_PIN.pin.port, ETH1_RXC_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH1_RXC_PIN.pin.port, ETH1_RXC_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH1_RXD0_PIN.pin.port, ETH1_RXD0_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH1_RXD0_PIN.pin.port, ETH1_RXD0_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH1_RXD1_PIN.pin.port, ETH1_RXD1_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH1_RXD1_PIN.pin.port, ETH1_RXD1_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH1_RXD2_PIN.pin.port, ETH1_RXD2_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH1_RXD2_PIN.pin.port, ETH1_RXD2_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH1_RXD3_PIN.pin.port, ETH1_RXD3_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH1_RXD3_PIN.pin.port, ETH1_RXD3_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH1_RXCTL_PIN.pin.port, ETH1_RXCTL_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH1_RXCTL_PIN.pin.port, ETH1_RXCTL_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinPadDriver(ETH1_GREFCLK_PIN.port, ETH1_GREFCLK_PIN.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeInput(ETH1_GREFCLK_PIN.port, ETH1_GREFCLK_PIN.pinIndex, IfxPort_InputMode_noPullDevice);

  port_control.raw = 0;
  port_control.clk_rx = ETH1_RXC_PIN.select;
  port_control.crsdv = ETH1_RXCTL_PIN.select;
  port_control.rxd0 = ETH1_RXD0_PIN.select;
  port_control.rxd1 = ETH1_RXD1_PIN.select;
  port_control.rxd2 = ETH1_RXD2_PIN.select;
  port_control.rxd3 = ETH1_RXD3_PIN.select;
  port_control.mdio = ETH1_MDIO_PIN.inSelect;
  port_control.mode = ETH_MAC_PORT_CTRL_MODE_RGMII;

  ETH_MAC_SetPortControl(&ETH_1, port_control);
}

void BOARD_ETH1_DeInitInputPins(void)
{
  ETH_MAC_PORT_CTRL_t port_control;

  port_control.raw = 0;
  port_control.mdio = ETH1_MDIO_PIN.inSelect;
  ETH_MAC_SetPortControl(&ETH_1, port_control);
}

void BOARD_ETH1_InitOutputPins(void)
{
  /* Switch ethernet output pins from alternate output to fast RGMII/RMII/MII mode. */
  IfxPort_setPinControllerSelection(ETH1_TXC_PIN.pin.port, ETH1_TXC_PIN.pin.pinIndex);
  IfxPort_setPinControllerSelection(ETH1_TXD0_PIN.pin.port, ETH1_TXD0_PIN.pin.pinIndex);
  IfxPort_setPinControllerSelection(ETH1_TXD1_PIN.pin.port, ETH1_TXD1_PIN.pin.pinIndex);
  IfxPort_setPinControllerSelection(ETH1_TXD2_PIN.pin.port, ETH1_TXD2_PIN.pin.pinIndex);
  IfxPort_setPinControllerSelection(ETH1_TXD3_PIN.pin.port, ETH1_TXD3_PIN.pin.pinIndex);
  IfxPort_setPinControllerSelection(ETH1_TXCTL_PIN.pin.port, ETH1_TXCTL_PIN.pin.pinIndex);

  /* MAC Output pins (MAC to PHY)
     Speed grade 4 selects RGMII driver */
  IfxPort_setPinPadDriver(ETH1_TXC_PIN.pin.port, ETH1_TXC_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH1_TXC_PIN.pin.port, ETH1_TXC_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXC_PIN.select);
  IfxPort_setPinPadDriver(ETH1_TXD0_PIN.pin.port, ETH1_TXD0_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH1_TXD0_PIN.pin.port, ETH1_TXD0_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXD0_PIN.select);
  IfxPort_setPinPadDriver(ETH1_TXD1_PIN.pin.port, ETH1_TXD1_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH1_TXD1_PIN.pin.port, ETH1_TXD1_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXD1_PIN.select);
  IfxPort_setPinPadDriver(ETH1_TXD2_PIN.pin.port, ETH1_TXD2_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH1_TXD2_PIN.pin.port, ETH1_TXD2_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXD2_PIN.select);
  IfxPort_setPinPadDriver(ETH1_TXD3_PIN.pin.port, ETH1_TXD3_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH1_TXD3_PIN.pin.port, ETH1_TXD3_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXD3_PIN.select);
  IfxPort_setPinPadDriver(ETH1_TXCTL_PIN.pin.port, ETH1_TXCTL_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed4);
  IfxPort_setPinModeOutput(ETH1_TXCTL_PIN.pin.port, ETH1_TXCTL_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_TXCTL_PIN.select);
}

void BOARD_ETH1_DeInitOutputPins(void)
{
  IfxPort_setPinModeInput(ETH1_TXC_PIN.pin.port, ETH0_TXC_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinModeInput(ETH1_TXD0_PIN.pin.port, ETH0_TXD0_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinModeInput(ETH1_TXD1_PIN.pin.port, ETH0_TXD1_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinModeInput(ETH1_TXD2_PIN.pin.port, ETH0_TXD2_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinModeInput(ETH1_TXD3_PIN.pin.port, ETH0_TXD3_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
  IfxPort_setPinModeInput(ETH1_TXCTL_PIN.pin.port, ETH0_TXCTL_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
}

void BOARD_ETH0_InitPpsPins(void)
{
  IfxPort_setPinPadDriver(ETH0_PPS_PIN.pin.port, ETH0_PPS_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed2);
  IfxPort_setPinModeOutput(ETH0_PPS_PIN.pin.port, ETH0_PPS_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH0_PPS_PIN.select);
}

void BOARD_ETH0_DeInitPpsPins(void)
{
  IfxPort_setPinModeInput(ETH0_PPS_PIN.pin.port, ETH0_PPS_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
}

void BOARD_ETH1_InitPpsPins(void)
{
  IfxPort_setPinPadDriver(ETH1_PPS_PIN.pin.port, ETH1_PPS_PIN.pin.pinIndex, IfxPort_PadDriver_cmosAutomotiveSpeed2);
  IfxPort_setPinModeOutput(ETH1_PPS_PIN.pin.port, ETH1_PPS_PIN.pin.pinIndex, IfxPort_OutputMode_pushPull, ETH1_PPS_PIN.select);
}

void BOARD_ETH1_DeInitPpsPins(void)
{
  IfxPort_setPinModeInput(ETH1_PPS_PIN.pin.port, ETH1_PPS_PIN.pin.pinIndex, IfxPort_InputMode_noPullDevice);
}
#endif

/******************************************************
** Serial IO ******************************************
*******************************************************/
#if defined(CONFIG_BOARD_SERIALIO_ENABLE)
SERIALIO_t SERIALIO =
{
  .asclin = &MODULE_ASCLIN0,
  .tx_pin = &IfxAsclin0_TX_P33_9_OUT,
  .rx_pin = &IfxAsclin0_RXD_P33_10_IN
};
#endif /* CONFIG_BOARD_SERIALIO_ENABLE */


#include "IfxAsclin_Lin.h"

IfxAsclin_Lin_Pins Lin_Master_pins =
{
    .rx=&IfxAsclin2_RXA_P14_3_IN,
    .rxMode=IfxPort_InputMode_pullUp,
    .tx=&IfxAsclin2_TX_P14_2_OUT,
    .txMode= IfxPort_OutputMode_pushPull,
    .pinDriver=IfxPort_PadDriver_cmosAutomotiveSpeed1
};

#include"IfxCan_Can.h"

#define CAN_STB     IfxPort_P33_0

IfxCan_Can_Pins can_0_pins =
{
    .txPin = &IfxCan_TXD00_P02_0_OUT,
    .txPinMode = IfxPort_OutputMode_pushPull,
    .rxPin = &IfxCan_RXD00A_P02_1_IN,
    .rxPinMode = IfxPort_InputMode_noPullDevice,
    .padDriver = IfxPort_PadDriver_cmosAutomotiveSpeed2
};


void BOARD_CAN0_InitSTBpin(void)
{
    IfxPort_setPinLow(CAN_STB.port, CAN_STB.pinIndex);
    IfxPort_setPinModeOutput(CAN_STB.port, CAN_STB.pinIndex, IfxPort_OutputMode_pushPull, IfxPort_OutputIdx_general);
}
