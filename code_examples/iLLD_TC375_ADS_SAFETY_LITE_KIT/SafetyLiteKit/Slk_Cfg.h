/**********************************************************************************************************************
 * \file Slk_Cfg.h
 * \copyright Copyright (C) Infineon Technologies AG 2019
 * 
 * Use of this file is subject to the terms of use agreed between (i) you or the company in which ordinary course of 
 * business you are acting and (ii) Infineon Technologies AG or its licensees. If and as long as no such terms of use
 * are agreed, use of this file is subject to following:
 * 
 * Boost Software License - Version 1.0 - August 17th, 2003
 * 
 * Permission is hereby granted, free of charge, to any person or organization obtaining a copy of the software and 
 * accompanying documentation covered by this license (the "Software") to use, reproduce, display, distribute, execute,
 * and transmit the Software, and to prepare derivative works of the Software, and to permit third-parties to whom the
 * Software is furnished to do so, all subject to the following:
 * 
 * The copyright notices in the Software and this entire statement, including the above license grant, this restriction
 * and the following disclaimer, must be included in all copies of the Software, in whole or in part, and all 
 * derivative works of the Software, unless such copies or derivative works are solely in the form of 
 * machine-executable object code generated by a source language processor.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE
 * WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE 
 * COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN 
 * CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS 
 * IN THE SOFTWARE.
 *********************************************************************************************************************/

#ifndef SAFETYLITEKIT_SLK_CFG_H_
#define SAFETYLITEKIT_SLK_CFG_H_

/*********************************************************************************************************************/
/*-----------------------------------------------------Includes------------------------------------------------------*/
/*********************************************************************************************************************/

/*********************************************************************************************************************/
/*------------------------------------------------------Macros-------------------------------------------------------*/
/*********************************************************************************************************************/
#define SLK_CFG_SSW_ENABLE_LBIST_BOOT            1
#define SLK_CFG_SSW_ENABLE_LBIST_APPSW           1
#define SLK_CFG_SSW_ENABLE_MONBIST               1
#define SLK_CFG_SSW_ENABLE_MCU_FW_CHECK          1
#define SLK_CFG_SSW_ENABLE_MCU_STARTUP           1
#define SLK_CFG_SSW_ENABLE_ALIVE_ALARM_TEST      1
#define SLK_CFG_SSW_ENABLE_REG_MONITOR_TEST      1
#define SLK_CFG_SSW_ENABLE_MBIST                 1

#define LED1_BOARD_ALIVE_STATUS                  &MODULE_P00, 5              /* LED D1: Port, Pin definition         */
#define LED2_ALM_DETECTED                        &MODULE_P00, 6              /* LED D2: Port, Pin definition         */

#define PORT_LOOPBACK_MISSION                    &MODULE_P33, 5 /* CCF is avoided on the selected port pins */
#define PORT_LOOPBACK_MONITOR                    &MODULE_P00, 2 /* CCF is avoided on the selected port pins */
#define PORT_REDUNDANCY_MISSION                  &MODULE_P00, 8 /* CCF is avoided on the selected port pins */
#define PORT_REDUNDANCY_MONITOR                  &MODULE_P23, 2 /* CCF is avoided on the selected port pins */

#define SMU_ALARM_WHICH_TRIGGERS_NMI             IfxSmu_Alarm_SCU_Watchdog_TimeOut

/* Digital Acquisition and Digital Actuation */
#define DA_TIM_CLOCK_SOURCE                      IfxGtm_Cmu_Clk_0
#define DA_TOM_CLOCK_SOURCE                      IfxGtm_Tom_Ch_ClkSrc_cmuFxclk0
#define GTM_TIM_ECKL_INPUT                       IfxGtm_TIM2_5_P15_2_IN
#define GTM_ECLK_OUTPUT_PIN                      &MODULE_P23, 1
#define GTM_TOM_SAFE_PIN                         IfxGtm_TOM0_4_TOUT9_P00_0_OUT
#define GTM_TOM_SAFE_PIN2                        IfxGtm_TOM2_15_TOUT75_P15_4_OUT
#define GTM_TIM_MISSION                          IfxGtm_TIM1_3_P02_3_IN
#define GTM_TIM_MONITOR                          IfxGtm_TIM2_0_P33_12_IN

#define GTM_TIM_MISSION_FUC2                     IfxGtm_TIM2_0_P33_12_IN
#define CCU6_INPUT_MONITOR_PIN                   IfxCcu60_CC60INB_P00_1_IN
#define CCU6_INPUT_MISSION_PIN_FUC3              IfxCcu60_CC60INB_P00_1_IN
#define GPT12_INPUT_MONITOR_PIN_FUC3             IfxGpt120_T2INB_P33_7_IN
#define CCU6_INPUT_MISSION_PIN_FUC4              IfxCcu61_CC60INC_P00_7_IN
#define GPT12_INPUT_MONITOR_PIN_FUC4             IfxGpt120_T2INA_P00_7_IN

#define IOM_MONITOR_INPUT                        IfxIom_MonInput_p33_1
#define IOM_MONITOR_PIN                          &MODULE_P33, 1 /* Port pin for IOM monitor channel input */

#define GTM_TOM_REF_PIN                          IfxGtm_TOM1_12_TOUT4_P02_4_OUT
#define IOM_GTM_REFERENCE_INPUT                  IfxIom_RefInput_gtmTout4

#define CCU6_REF_PIN                             IfxCcu60_CC62_P02_4_OUT
#define IOM_CCU6_REFERENCE_INPUT                 IfxIom_RefInput_ccu60Cc62

#define CCU6_OUTPUT_MISSION_PIN                  IfxCcu60_COUT63_P00_0_OUT

/* Analog Acquisition */
#define INPUT1_EVADC_PIN                         IfxEvadc_G0CH0_AN0_IN       /* EVADC input pin */
#define INPUT2_EVADC_PIN                         IfxEvadc_G9CH10_P00_2_IN    /* EVADC input pin */
#define VAREF_EVADC_PIN                          IfxEvadc_G1CH0_AN8_IN       /* EVADC input pin */

#define SIG1_EVADC_SINGLE_PIN                    IfxEvadc_G0CH5_AN5_IN    /* EVADC input pin  */
#define SIG2_EVADC_SINGLE_PIN                    IfxEvadc_G11CH1_AN5_IN   /* EVADC input pin  */

#define INPUT1_EDSADC_CH3P_PIN                   IfxEdsadc_DS3PA_AN0_IN      /* EDSADC input pin */
#define INPUT2_EDSADC_CH5P_PIN                   IfxEdsadc_DS5PA_P00_2_IN    /* EDSADC input pin */
#define VAREF_EDSADC_CH1P_PIN                    IfxEdsadc_DS1PC_AN44_IN      /* EDSADC input pin */

#define BROKEN_WIRE_DETECT_EVADC_PIN             IfxEvadc_G0CH0_AN0_IN

/* Task assigned to CPU */
#define CPU0_RUNNING_TASK                        0
#define CPU_WHICH_RUN_SMU                        CPU0_RUNNING_TASK
#define CPU_WHICH_RUN_QSPI                       CPU0_RUNNING_TASK
#define CPU1_RUNNING_TASK                        1
#define CPU2_RUNNING_TASK                        2

/* [Â°C] difference in the redundant die temperature as specified in the safety manual */
#define MAX_DIE_TEMP_DIFF                        9.0

/* isr priorities */
#define ISR_PRORITY_SMU_ISR_0                    5
#define ISR_PRORITY_SMU_ISR_1                    6
#define ISR_PRORITY_SMU_ISR_2                    7
#define ISR_PRIORITY_OS_TICK                     8       /* Define the tick for the Application */
#define ISR_PRIORITY_DMARP0ISR                   11
#define ISR_PRIORITY_DMACH0ISR                   12
#define ISR_PRIORITY_FCE_ER                      13

/* Priority for the Analog Acquisition (AA) example */
#define ISR_PRIORITY_EVADC_INPUT1_AA_FUC0        18 /* EVADC channel interrupt for AA FUC0 */
#define ISR_PRIORITY_EVADC_INPUT2_AA_FUC0        19 /* EVADC channel interrupt for AA FUC0 */
#define ISR_PRIORITY_EVADC_INPUT1_AA_FUC2        20 /* EVADC channel interrupt for AA FUC2 */
#define ISR_PRIORITY_EVADC_SIG1_AA_FUC3          21 /* EVADC signal1 channel interrupt for AA FUC0 */
#define ISR_PRIORITY_EVADC_SIG2_AA_FUC3          22 /* EVADC signal2 channel interrupt for AA FUC0 */
#define ISR_PRIO_EVADC_BRK_WR_CH_AA_FUC4         23 /* EVADC Broken wire channel interrupt for AA FUC4 */
#define ISR_PRIO_EVADC_BRK_WR_BOUNDARY_AA_FUC4   24 /* EVADC Broken wire signal out of area interrupt for FUC4 */

/*Priorities for the Digital Acquisition(Dacq) and Digital Actuation(Dact) examples*/
#define ISR_PRIORITY_GTM_TIM_ECLK_MON_DA         25 /* TIM ECKL monitoring used in all Dacq and Dact examples */
#define ISR_PRIORITY_GTM_TIM_MISSION_DACQ_FUC0   26 /* TIM mission channel interrupt used in Dacq FUC0 */
#define ISR_PRIORITY_GTM_TIM_MONITOR_DACQ_FUC0   27 /* TIM monitor channel interrupt used in Dacq FUC0 */
#define ISR_PRIORITY_GTM_TIM_MISSION_DACQ_FUC1   28 /* TIM mission channel interrupt used in Dacq FUC1 */
#define ISR_PRIORITY_GTM_TIM_MONITOR_DACQ_FUC1   29 /* TIM monitor channel interrupt used in Dacq FUC1 */
#define ISR_PRIORITY_GTM_TIM_MISSION_DACQ_FUC2   30 /* TIM mission channel interrupt used in all Dacq Fuc2 */
#define ISR_PRIORITY_CCU6_MONITIR_RE_DACQ_FUC2   31 /* RE: RISING_EDGE */
#define ISR_PRIORITY_CCU6_MONITIR_PM_DACQ_FUC2   32 /* PM: Period Match */
#define ISR_PRIORITY_CCU6_RE_DACQ_FUC3           33
#define ISR_PRIORITY_CCU6_PM_DACQ_FUC3           34
#define ISR_PRIORITY_GPT12_T2_INT_QACQ_FUC3      35  /* Define the GPT12 Timer 2 interrupt priority */
#define ISR_PRIORITY_GPT12_T3_INT_QACQ_FUC3      36  /* Define the GPT12 Timer 3 interrupt priority */
#define ISR_PRIORITY_CCU6_RE_DACQ_FUC4           47
#define ISR_PRIORITY_CCU6_PM_DACQ_FUC4           48
#define ISR_PRIORITY_GPT12_T2_INT_QACQ_FUC4      49  /* Define the GPT12 Timer 2 interrupt priority */
#define ISR_PRIORITY_GPT12_T4_INT_QACQ_FUC4      50  /* Define the GPT12 Timer 2 interrupt priority */
#define ISR_PRIORITY_GPT12_T3_INT_QACQ_FUC4      51  /* Define the GPT12 Timer 3 interrupt priority */

#define ISR_PRIORITY_GTM_TIM_MISSION_DACT_FUC2   37
#define ISR_PRIORITY_GPT12_T2_INT_DACT_FUC3      38  /* Define the GPT12 Timer 2 interrupt priority */
#define ISR_PRIORITY_GPT12_T3_INT_DACT_FUC3      39  /* Define the GPT12 Timer 2 interrupt priority */
#define ISR_PRIORITY_CCU6_MISSION_DACT_FUC3      40


#define ISR_PRIORITY_QSPI3_TX_DMA_CH2_CLK_PlAUS   43  /* DMA channel2 interrupt priority for clock plausibility  */
#define ISR_PRIORITY_QSPI3_RX_DMA_CH3_CLK_PlAUS   44  /* DMA channel3 interrupt priority */
#define ISR_PRIORITY_QSPI3_ER_CLK_PlAUS           45  /* QSPI3 error interrupt priority */
#define ISR_PRIORITY_QSPI3_PT_CLK_PlAUS           46  /* QSPI Phase Transition interrupt priority */


/* Priorities used in QSPI Safe communication */
#define ISR_PRIORITY_MASTER_TX_QSPI_SAFE          92
#define ISR_PRIORITY_MASTER_RX_QSPI_SAFE          93
#define ISR_PRIORITY_MASTER_ER_QSPI_SAFE          94
#define ISR_PRIORITY_SLAVE_TX_QSPI_SAFE           95
#define ISR_PRIORITY_SLAVE_RX_QSPI_SAFE           96
#define ISR_PRIORITY_SLAVE_ER_QSPI_SAFE           97

#define ISR_PRIORITY_ATOM_ISR_MON                 200
#define ISR_PRIORITY_DTS                          230     /* Priority for DTS interrupt */

#define IFX_CFG_STM_TICKS_PER_MS                  100000  /* brief Number of STM ticks per millisecond */
#define FTTI                10      /* Define the FFTI at 10ms */
#define REL_VAL             0xFFCE  /* Reload value of the CPU watch dog each 8ms */

/*********************************************************************************************************************/
/*-------------------------------------------------Global variables--------------------------------------------------*/
/*********************************************************************************************************************/

/*********************************************************************************************************************/
/*-------------------------------------------------Data Structures---------------------------------------------------*/
/*********************************************************************************************************************/
 
/*********************************************************************************************************************/
/*--------------------------------------------Private Variables/Constants--------------------------------------------*/
/*********************************************************************************************************************/

/*********************************************************************************************************************/
/*------------------------------------------------Function Prototypes------------------------------------------------*/
/*********************************************************************************************************************/


#endif /* SAFETYLITEKIT_SLK_CFG_H_ */
